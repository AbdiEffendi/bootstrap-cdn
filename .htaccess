# php in HTML are you nuts? Yup.
AddType application/x-httpd-php .html
# Tell the origin what json is
AddType application/json .json

# cache busting http://html5boilerplate.com/docs/cachebusting/
<IfModule mod_rewrite.c>
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)\.(\d+)\.(js|css|png|jpg|html|gif)$ $1.$3 [L]
</IfModule>

# Cache everything on for 1 year. 
# We are making an 24 hour exception for json since we are using it for the daily stats and need that $#!+ fresh

Header append Cache-Control "public, must-revalidate, proxy-revalidate"
ExpiresActive On
ExpiresByType text/css A31536000
ExpiresByType application/javascript A31536000
ExpiresByType image/png A31536000
ExpiresByType image/gif A31536000
ExpiresByType application/json A86400

# This will allow us to point www to the CDN so each page is cached globally.

RewriteEngine On
IndexIgnore *
Options +FollowSymLinks -Multiviews -Indexes
RewriteCond %{HTTP_HOST} ^bootstrapcdn\.com$ [NC]
RewriteRule ^(.*)$ http://www.bootstrapcdn.com/$1.081212044408 [R=301,L]

# A million dollars isn't cool, adding your own custom headers is. That's how it went right?

Header set X-Powered-By "NetDNA - The Science of Accelerationâ„¢"
Header set X-Hello-Human "You must be bored.  You should work for us. Email jdorfman+theheader@netdna.com or @NetDNADeveloper on the twitter"
